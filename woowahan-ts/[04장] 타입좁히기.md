## íƒ€ì… í™•ì¥í•˜ê¸°

### íƒ€ì… í™•ì¥ ì¥ì 

ë‹¹ì—°í•˜ê²Œë„ baseTypeì— ì¶”ê°€ë¡œ variation ì„ ì¤„ ìˆ˜ ìˆì–´ì„œ ë¶ˆí•„ìš”í•œ ì½”ë“œ ì¤‘ë³µì„ ë§‰ì„ ìˆ˜ ìˆë‹¤ 

ê·¸ë ‡ë‹¤ë©´ Base Typeì—ì„œ ëª‡ëª‡ ì†ì„±ì„ ë¹¼ì„œ ì”€ìœ¼ë¡œì¨ í™•ì¥ì„±ì„ ëŠ˜ë¦¬ëŠ” ë°©ë²•ì€? 

- **ìœ í‹¸ë¦¬í‹° íƒ€ì…**ìœ¼ë¡œ í™•ì¥ì„± ë†’ì´ê¸°
    1. `Pick<Type, Keys>`
    
    ```tsx
    // base íƒ€ì… ì¤‘ ì¼ë¶€ë§Œ ì¬ì‚¬ìš©í•˜ê³  ì‹¶ì„ ë•Œ
    type User = {
      id: number;
      name: string;
      email: string;
      age: number;
    };
    
    type UserProfile = Pick<User, 'id' | 'name'>;
    ```
    
    2. `Omit<Type, Keys>`
    
    ```tsx
    // base íƒ€ì… ëŒ€ë¶€ë¶„ ì“°ê³ , ì¼ë¶€ë§Œ ë¹¼ê³  ì‹¶ì„ ë•Œ
    type UserWithoutEmail = Omit<User, 'email'>;
    ```
    
    1. `Partial<Type>`
    
    ```tsx
    // ëª¨ë“  ì†ì„±ì„ ì„ íƒì ìœ¼ë¡œ ì‚¬ìš©í• ë•Œ 
    type PartialUser = Partial<User>;
    ```
    
    4.  `Required<Type>`
    
    ```tsx
    //ëª¨ë“  ì†ì„±ì„ í•„ìˆ˜ë¡œ ë§Œë“¤ë•Œ
    type RequiredUser = Required<PartialUser>;
    ```
    
    ---
    
    1. `Exclude<UnionType, ExcludedMembers>`
    
    ```tsx
    // ìœ ë‹ˆì˜¨ íƒ€ì…ì—ì„œ íŠ¹ì • ì†ì„± ì œì™¸í• ë•Œ
    type Status = 'loading' | 'success' | 'error';
    
    type NotLoading = Exclude<Status, 'loading'>;
    // 'success' | 'error'
    
    ```
    
    1. `Extract<UnionType, Members>`
    
    ```tsx
    // ìœ ë‹ˆì–¸ íƒ€ì…ì—ì„œ íŠ¹ì • ë©¤ë²„ë§Œ ì¶”ì¶œí• ë•Œ 
    type SuccessOrError = Extract<Status, 'success' | 'error'>;
    // 'success' | 'error'
    ```
    

---

### ìœ ë‹ˆì˜¨ íƒ€ì…

2ê°œ ì´ìƒì˜ íƒ€ì…ì„ ì¡°í•© â†’ **í•©ì§‘í•©** 

ìœ ë‹ˆì˜¨ íƒ€ì…ìœ¼ë¡œ ì„ ì–¸ëœ ê°’ì€, ëª¨ë“  íƒ€ì…ì´ ê³µí†µìœ¼ë¡œ ê°–ê³  ìˆëŠ” ì†ì„±ì—ë§Œ ì ‘ê·¼ ê°€ëŠ¥ 

íƒ€ì… ê°€ë“œë¡œ ì¢íˆë©´ ì‚¬ìš© ê°€ëŠ¥ 

`ì‹¤ì œ ì‚¬ìš©í–ˆë˜ ì˜ˆì œ ì½”ë“œ` 

```tsx
// ì†Œì…œë¡œê·¸ì¸ post
export const postAuthorization = async (code: string) => {
  try {
    const response = await axios.post<SuccessUserResponse | SuccessNewbieResponse>(
	  // ... ìƒëµ 
    return response.data.data;
  } 
  // ìƒëµ.. 
};
```

íƒ€ì… ì¢íˆê¸° 

```tsx

        if ('nickname' in response) {
     
					// .. ìƒëµ 
        } else {
          // ì‹ ê·œ ìœ ì €
          setModalTitle('íšŒì›ê°€ì… í•„ìš”');
          setOnConfirm(() => () => (window.location.href = '/signup'));
        }
```

---

### êµì°¨íƒ€ì…ê³¼ extends

**êµì°¨íƒ€ì…**: í•„ìš”í•œ ëª¨ë“  ê¸°ëŠ¥ì„ ê°€ì§„ í•˜ë‚˜ì˜ íƒ€ì…ì„ ë§Œë“œëŠ” ê²ƒ 

**extends**: íƒ€ì…ì´ ë‹¤ë¥¸ íƒ€ì…ì„ ê¸°ë°˜ìœ¼ë¡œ í•¨ (ìƒì†)

```tsx
interface DeliveryTip {
  tip: number;
}

interface Filter extends DeliveryTip {
  tip: string;
  // âŒ Interface 'Filter' incorrectly extends interface 'DeliveryTip'.
	// ì˜¤ë¥˜ ë°œìƒ
}

type DeliveryTip = { tip: number; };

type Filter = DeliveryTip & {
  tip: string; // Filter íƒ€ì…ì€ never 
};
```

typeê³¼ interfaceì˜ ì°¨ì´ë¥¼ ëª…í™•í•˜ê²Œ ë³´ì—¬ì£¼ëŠ” ë¶€ë¶„ 

í™•ì¥í•  ê²ƒ ê°™ìœ¼ë©´ `interface`, ê³„ì‚°í•˜ê±°ë‚˜ ì¡°í•© ë§ìœ¼ë©´ `type`

---

## íƒ€ì… ì¢íˆê¸° - íƒ€ì… ê°€ë“œ

### íƒ€ì… ê°€ë“œì— ë”°ë¥¸ ë¶„ê¸°ì²˜ë¦¬

`if ë¬¸`ì„ ì‚¬ìš©í•´ì„œ **ë¶„ê¸°ì²˜ë¦¬ëŠ” ë¶ˆê°€ëŠ¥** 

ì»´íŒŒì¼ì‹œ íƒ€ì… ì •ë³´ê°€ ëª¨ë‘ ì œê±° ë˜ì–´, ëŸ°íƒ€ì„ì— ì¡´ì¬í•˜ì§€ ì•Šê¸° ë•Œë¬¸ 

ëŸ°íƒ€ì„ì—ì„œë„, ë³€ìˆ˜ë¥¼ íƒ€ì… Aë¡œ ì¶”ë¡í•˜ë¡œë… ìœ ë„í•˜ì—¬ ì¢í˜€ì•¼ í•¨ 

â†’ íƒ€ì… ê°€ë“œ ì‚¬ìš©í•˜ê¸° 

**(1) JS ì—°ì‚°ìë¥¼ ì´ìš©í•œ íƒ€ì…ê°€ë“œ** : `typeof` / `instanceof` / `in`   

**(2) ì‚¬ìš©ì ì •ì˜ íƒ€ì… ê°€ë“œ** 

### ì›ì‹œíƒ€ì… ì¶”ë¡ ì‹œ:  `typeof`

ì›ì‹œíƒ€ì…ì— ëŒ€í•´ì„œ ì¶”ë¡ ê°€ëŠ¥ 

```tsx
const replaceHyphen: (date: string | Date) => string | Date = (date) => {
  if (typeof date === "string") {
    // ì´ ë¶„ê¸°ì—ì„œëŠ” dateì˜ íƒ€ì…ì´ string ìœ¼ë¡œ ì¶”ë¡ ëœë‹¤
    return date.replace(/-/g, "/");
  }

  return date;
};
// ê·¼ë° ì–¼ë¦¬ë¦¬í„´ í•˜ë©´ ì¢€ë” ì¢‹ì•˜ê² ë‹¤
```

ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ ë™ì‘ ë°©ì‹ìœ¼ë¡œ ì¸í•´, `null` ê³¼ `ë°°ì—´ íƒ€ì…` ë“±ì´ **Objectë¡œ íŒë³„ë˜ì–´ ë³µì¡í•œ íƒ€ì…ì„ ê²€ì¦í•˜ê¸°ì—” í•œê³„** 

```tsx
typeof null;         // "object" typeof ë§Œìœ¼ë¡œëŠ” null ì¸ì§€ ì•„ë‹Œì§€ í™•ì‹¤íˆ êµ¬ë¶„ì´ ì•ˆ ë¨
typeof [];           // "object" ë°°ì—´ì€ ë¶„ëª… ê°ì²´ì™€ ë‹¤ë¥¸ë°, object ë¡œ ëœ¸ 
typeof {};           // "object"
typeof undefined;    // "undefined"
typeof (() => {});   // "function"

```

| ê²€ì‚¬ ëŒ€ìƒ | ì•ˆì „í•œ ë°©ë²• |
| --- | --- |
| null ì²´í¬ | `value === null` |
| undefined ì²´í¬ | `value === undefined` |
| ë°°ì—´ ì²´í¬ | `Array.isArray(value)` |
| í•¨ìˆ˜ ì²´í¬ | `typeof value === "function"` |
| ë‚ ì§œ ê°ì²´ | `value instanceof Date` |
| ê°ì²´ (ìˆœìˆ˜ ê°ì²´) | `typeof value === "object" && value !== null && !Array.isArray(value)` |

### ì¸ìŠ¤í„´ìŠ¤ ê°ì²´ íƒ€ì… íŒë³„ì‹œ: `instance`

"ì¸ìŠ¤í„´ìŠ¤í™”" ê°€ ë­˜ê¹Œ?

**â†’ í´ë˜ìŠ¤**ê°€ ì„¤ê³„ë„ë¼ë©´, **ì¸ìŠ¤í„´ìŠ¤**ëŠ” ê·¸ ì„¤ê³„ë„ë¡œ ì°ì–´ë‚¸ "ì‹¤ì œ ê°ì²´"

`instanceof` ëŠ” í´ë˜ìŠ¤ ê¸°ë°˜ ì¸ìŠ¤í„´ìŠ¤ íƒ€ì…ì„ ì¢í ë•Œ ì‚¬ìš© (`class` ê¸°ë°˜ íƒ€ì…ì—ë§Œ ì‚¬ìš© ê°€ëŠ¥)

```tsx
interface Range {
  start: Date;
  end: Date;
}

interface DatePickerProps {
  selectedDates?: Date | Range;
}

export function convertToRange(selected?: Date | Range): Range | undefined {
  return selected instanceof Date
    ? { start: selected, end: selected }
    : selected;
}
```

ì–´ë¼? `Instanceof`ëŠ” í´ë˜ìŠ¤ ê¸°ë°˜ íƒ€ì…ë§Œ ê²€ì¦ëœë‹¤ê³  í•˜ì§€ ì•Šì•˜ë‚˜? 

â†’ ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ `Date` ëŠ” **ë‚´ì¥ í´ë˜ìŠ¤**

- `Array`
- `Map`
- `Set`
- `RegExp`
- `Error` ë„ ë§ˆì°¬ê°€ì§€

---

### ê°ì²´ ì†ì„± ìœ ë¬´ íŒë³„ì‹œ: `in`

`A in B` í˜•íƒœë¡œ ì‚¬ìš©ë˜ë©°, `A`ì†ì„±ì´ `B`ì— ì¡´ì¬í•˜ëŠ”ì§€ë¥¼ ê²€ì‚¬ 

### ì‚¬ìš©ì ì •ì˜ íƒ€ì…ê°€ë“œ í™œìš©ì‹œ: `is`

íŠ¹ì • ê°’ì´ ì›í•˜ëŠ” íƒ€ì…ì¸ì§€ íŒë³„,

`parameter is Type` ì˜ í˜•ì‹ìœ¼ë¡œ true ë¥¼ ë°˜í™˜í•˜ëŠ” ê²½ìš° **íƒ€ì…ì´ ì¢í˜€ì§€ë„ë¡** í•¨

```tsx
type DestinationName = string; // ì˜ˆì‹œ
type DestinationNameD = DestinationName[]; // ì˜ˆì‹œ
const DestinationNameSet: Record<DestinationCode, DestinationName> = { ... };

// isDestinationCode: ë°˜í™˜ íƒ€ì…ì— x is DestinationCode ë¼ê³  ëª…ì‹œí•˜ì§€ ì•Šìœ¼ë©´ 
// strì€ ê·¸ëƒ¥ string ë¿ì´ë¼ ì¸ë±ì‹±ì— ìˆì–´ì„œ key íƒ€ì…ì´ ë³´ì¥ë˜ì§€ ëª»í•¨ 
function isDestinationCode(x: string): x is DestinationCode {
  return x in DestinationNameSet;
}

async function getAvailableDestinationNameList(): Promise<DestinationNameD> {
  const data = await AxiosRequest<string[]>("get", ".../destinations");
  const destinationNames: DestinationNameD = [];

  data?.forEach((str) => {
    if (isDestinationCode(str)) {
      destinationNames.push(DestinationNameSet[str]);
    }
  });

  return destinationNames;
}

```

inì„ ì¨ì„œ ì¢íˆë©´ ì•ˆë˜ë‚˜? 

```tsx
if (str in DestinationNameSet) {
  // ì—¬ê¸°ëŠ” JS ë ˆë²¨ì—ì„œ "DestinationNameSet ì— str ì´ë¼ëŠ” í‚¤ê°€ ì¡´ì¬í•˜ëŠ”ê°€?" ê²€ì‚¬
}
```

ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œëŠ” ì •ìƒ ë™ì‘í•˜ì§€ë§Œ, íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” ì—¬ê¸°ì„œ `str` ì˜ íƒ€ì…ì„ ìë™ìœ¼ë¡œ ì¢íˆì§€ ì•ŠìŒ

í•œí¸, `x is DestinationCode` ë¥¼ ëª…ì‹œí•˜ë©´, **íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ê°€ "ì´ í•¨ìˆ˜ê°€ true ë°˜í™˜í•˜ë©´ str ì€ DestinationCode ë¼ê³  ë¯¿ì–´ë„ ëœë‹¤"** ê³  ì´í•´í•¨

<aside>
ğŸ’¡

ê·¸ë˜ì„œ**`in` ì„ ì‚¬ìš©í•´ì„œ ê²€ì‚¬í•˜ê³ , íƒ€ì…ì„ ì¢íˆê¸° ìœ„í•´ `is` ë¥¼ ì„ ì–¸í•´ì„œ ì¨ì•¼ í•¨.**

`is` ëŠ” íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì—ê²Œ "ë‚´ê°€ íƒ€ì… ì²´í¬í–ˆìœ¼ë‹ˆê¹Œ ì¢í˜€ì¤˜!" í•˜ê³  ì•Œë ¤ì£¼ëŠ” ì—­í•  

</aside>

---

## ì‹ë³„ ìœ ë‹ˆì˜¨: íƒ€ì… ì¢íˆê¸°

`errorType` ì´ë¼ëŠ” ìœ ë‹ˆì˜¨ì„ ì„ ì–¸í•˜ì—¬, ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ ë•íƒ€ì´í•‘ì„ ë°©ì§€í•¨ 

â†’ ì—¬ëŸ¬ íƒ€ì…ì´ ë­‰ì³ì§€ëŠ” ê²½ìš°ë¥¼ ë§‰ìŒ 

```tsx
type TextError = {
  errorType: "TEXT";
  errorCode: string;
  errorMessage: string;
};

type ToastError = {
  errorType: "TOAST";
  errorCode: string;
  errorMessage: string;
  toastShowDuration: number;
};

type AlertError = {
  errorType: "ALERT";
  errorCode: string;
  errorMessage: string;
  onConfirm: () => void;
};

```

ë‹¨, ìœ ë‹ˆì˜¨ì˜ íŒë³„ìëŠ” `ìœ ë‹›íƒ€ì…`ìœ¼ë¡œ ì„ ì–¸ë˜ì–´ì•¼ í•¨ 

- ë¦¬í„°ëŸ´ íƒ€ì…ì´ì–´ì•¼ í•¨
- íŒë³„ìë¡œ ì„ ì •í•œ ê°’ì— ì ì–´ë„ í•˜ë‚˜ ì´ìƒì˜ ìœ ë‹› íƒ€ì…ì´ í¬í•¨ë˜ì–´ì•¼ í•˜ë©°, ì¸ìŠ¤í„´ìŠ¤í™” í•  ìˆ˜ ìˆëŠ” íƒ€ì…ì€ í¬í•¨ë˜ì§€ ì•Šì•„ì•¼ í•œë‹¤.

---

## Exhaustiveness Checking

ì² ì €í•˜ê²Œ ì²´í‚¹

 - ëˆ„ë½ ê²€ì‚¬ / ì™„ì „ì„± ê²€ì‚¬ëŠ” ë§ ê·¸ëŒ€ë¡œ "**ëª¨ë“  ê²½ìš°ë¥¼ ë¹ ì§ì—†ì´ ë‹¤ë¤˜ëŠ”ì§€"** ì»´íŒŒì¼ íƒ€ì„ì— íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ê°€ ê²€ì‚¬

ë³´í†µ ë¶„ê¸°ì²˜ë¦¬ë¥¼ ë¹ ì§ì—†ì´ ì„¤ì •í–ˆëŠ”ì§€ í™•ì¸í•˜ê³  ì‹¶ì„ë•Œ ì“°ëŠ”ë“¯? 

```tsx
type ProductPrice = "10000" | "20000" | "5000";

const exhaustiveCheck = (param: never) => {
  throw new Error("type error!");
};

const getProductName = (productPrice: ProductPrice): string => {
  if (productPrice === "10000") return "ë°°ë¯¼ ìƒí’ˆê¶Œ 1ë§Œì›";
  if (productPrice === "20000") return "ë°°ë¯¼ ìƒí’ˆê¶Œ 2ë§Œì›";
  // if (productPrice === "5000") return "ë°°ë¯¼ ìƒí’ˆê¶Œ 5ì²œì›";

  // 5000ì›ì„ ë¶„ê¸°ì²˜ë¦¬ë¡œ ë”°ë¡œ ì²˜ë¦¬í•´ì•¼ í•˜ëŠ”ë° ì—¬ê¸°ì— ì˜¤ë©´ ì•ˆ ë¨!! 
  exhaustiveCheck(productPrice);
  return "ë°°ë¯¼ ìƒí’ˆê¶Œ";
};

```